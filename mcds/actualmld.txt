@startuml

object Utilisateur {
  +Email: varchar
  MotDePasse: varchar
  Nom: varchar
  Prenom: varchar
  Telephone: numeric
  DateCreation: datetime
  StatutCompte: varchar
  TypeCompte: varchar
  #IdOrganisation => Organisation:NumeroSiren
}

object DemandeAjoutOrganisation {
  +IdDemandeAjout: numeric
  #IdDemandeur => Utilisateur:Email
  #IdOrganisation => Organisation:NumeroSiren
}

object Organisation {
  +NumeroSiren: varchar
  Nom: varchar
  Type: varchar
  AdresseAdministrative: varchar
  StatutOrganisation: varchar
}

object OffreEmploi {
  +IdOffre: numeric
  Etat: varchar
  DateValidite: datetime
  ListePieces: varchar
  NombrePieces: numeric
  #IdFiche => FichePoste:IdFiche
  #IdRecruteur => Utilisateur:Email
}

object FichePoste {
  +IdFiche: numeric
  Intitule: varchar
  StatutPoste: varchar
  ResponsableHiérarchique: varchar
  TypeMetier: varchar
  LieuMission: varchar
  Rythme: varchar
  Salaire: varchar
  Description: varchar
  #IdOrganisation => Organisation:NumeroSiren
}

object Candidature {
  +IdCandidature: numeric
  DateCandidature: datetime
  #IdCandidat => Utilisateur:Email
  #IdOffre => OffreEmploi:IdOffre
}

object Fichier {
    +Id: numeric
    #IdCandidature => Candidature:IdCandidature
    Fichier: varchar
}

Utilisateur --> Organisation
Candidature --> OffreEmploi
Candidature --> Utilisateur
OffreEmploi --> Utilisateur
OffreEmploi --> FichePoste
DemandeAjoutOrganisation --> Utilisateur
DemandeAjoutOrganisation --> Organisation
FichePoste --> Organisation
Fichier --> Candidature

note right of Utilisateur : TypeCompte in {'candidat', 'recruteur', 'administrateur', 'recruteur en attente', 'administrateur en attente'} \nStatutCompte in {'actif', 'inactif'}
note right of Organisation : StatutOrganisation in {'approuvée', 'en attente'}
note right of DemandeAjoutOrganisation : IdDemandeur => Utilisateur:TypeCompte = "recruteur" \nIdOrganisation => Organisation:StatutOrganisation = "en attente"
note right of OffreEmploi : IdRecruteur => Utilisateur:TypeCompte = "recruteur" \nEtat in {'publié', 'non publié', 'expiré'}
note right of FichePoste : IdOrganisation => Organisation:StatutOrganisation = "approuvée"
note right of Candidature : IdCandidat => Utilisateur:TypeCompte = "candidat"

@enduml
